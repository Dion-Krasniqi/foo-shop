(()=>{"use strict";/**
 * @module missionlog
 * @author Ray Martone
 * @copyright Copyright (c) 2019-2025 Ray Martone
 * @license MIT
 * @description A lightweight TypeScript logger with level-based filtering and tagging.
 * Drop-in replacement for console.log with additional categorization and filtering capabilities.
 */var e=(e=>(e.TRACE="TRACE",e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e.OFF="OFF",e))(e||{}),t=new Set,l=(new Proxy({},{get(e,l){if("string"==typeof l&&t.has(l))return l},ownKeys:()=>Array.from(t),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0})}),new Map([[1,"TRACE"],[2,"DEBUG"],[3,"INFO"],[4,"WARN"],[5,"ERROR"],[6,"OFF"]])),i=new Map([["TRACE",1],["DEBUG",2],["INFO",3],["WARN",4],["ERROR",5],["OFF",6]]),s=[],a=new class{_defaultLevel=3;_tagToLevel=new Map;_levelCache=new Map;_callback;init(e,t){if(this._levelCache.clear(),e)for(let t in e){let l=e[t];this._setTagLevel(t,l)}return void 0!==t&&(this._callback=t),this}_setTagLevel(e,s){let a=i.get(s);void 0!==a?"*"===e?this._defaultLevel=a:(this._tagToLevel.set(e,a),t.add(e)):(console.warn(`Invalid log level "${s}" for tag "${e}". Using default (${l.get(this._defaultLevel)}).`),this._tagToLevel.set(e,2),t.add(e))}_shouldLog(e,t){let l=this._levelCache.get(e);l||(l=new Map,this._levelCache.set(e,l));let i=t||"*",s=l.get(i);if(void 0!==s)return s;let a=e>=(this._tagToLevel.get(i)??this._defaultLevel);return l.set(i,a),a}_log(e,i,...a){let r,n,o;if(!this._callback||void 0===i||("string"==typeof i&&t.has(i)?(r=i,n=a[0],o=a.slice(1)):(r="*",n=i,o=a),void 0===n||""===n||!this._shouldLog(e,r)))return;let h=o.length>0?o.filter(e=>void 0!==e):s,g=l.get(e),u="*"===r?"":r;this._callback(g,u,n,h)}debug(e,...t){return this._log(2,e,...t),this}error(e,...t){return this._log(5,e,...t),this}info(e,...t){return this._log(3,e,...t),this}log(e,...t){return this._log(3,e,...t),this}trace(e,...t){return this._log(1,e,...t),this}warn(e,...t){return this._log(4,e,...t),this}isLevelEnabled(e,t="*"){let l=i.get(e);return void 0!==l&&this._shouldLog(l,t)}isDebugEnabled(e="*"){return this.isLevelEnabled("DEBUG",e)}isTraceEnabled(e="*"){return this.isLevelEnabled("TRACE",e)}reset(){return this._tagToLevel.clear(),this._levelCache.clear(),this._defaultLevel=3,this._callback=void 0,t.clear(),this}};let{PluginBaseClass:r}=window;a.init({initializer:"INFO"},(e,t,l,i)=>{console.log(`${e}: [${t}]`,l,...i)}),PluginManager.register("ExamplePlugin",class extends r{init(){console.log("init"),a.info("initializer","example plugin started",this)}})})();